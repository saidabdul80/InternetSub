import{d as v,z as f,g as p,w as t,e as a,b as s,u as e,h as g,a as k,j as _,i as m,t as r,o as c,l as b}from"./app-Bbpl4-Pg.js";import{_ as y}from"./index-Dv5PaFr3.js";import{_ as w,a as N,b as C,c as $}from"./CardTitle.vue_vue_type_script_setup_true_lang-l__BwdJv.js";import{_ as P}from"./Spinner.vue_vue_type_script_setup_true_lang-D_4jQvSf.js";import{_ as B}from"./PortalLayout.vue_vue_type_script_setup_true_lang-DCdRu8Rf.js";import"./createLucideIcon-l49pqt4w.js";import"./AppShell.vue_vue_type_script_setup_true_lang-DmzT6-Oi.js";import"./index-BcwGYDmr.js";import"./useForwardExpose-Bge-8bB2.js";const U={class:"flex flex-col gap-6"},z={class:"text-2xl font-semibold text-foreground"},V={class:"flex flex-wrap gap-3"},D={key:0,class:"text-sm text-red-600"},q=v({__name:"Checkout",props:{payment:{},authorizationUrl:{}},setup(l){const d=l,i=f(!1),o=f(null),x=u=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0}).format(u/100),h=async()=>{if(!d.authorizationUrl){o.value="Unable to start the payment. Please try again.";return}o.value=null,i.value=!0;try{window.location.href=d.authorizationUrl}catch{o.value="Unable to start the payment. Please check your connection."}finally{i.value=!1}};return(u,n)=>(c(),p(B,null,{default:t(()=>[a(e(g),{title:"Checkout"}),s("div",U,[n[2]||(n[2]=s("div",{class:"space-y-2"},[s("h1",{class:"text-2xl font-semibold text-foreground"}," Complete payment "),s("p",{class:"text-sm text-muted-foreground"}," Pay securely with Paystack to activate your plan instantly. ")],-1)),a(e(w),null,{default:t(()=>[a(e(N),null,{default:t(()=>[a(e(C),null,{default:t(()=>[m(r(l.payment.plan.name),1)]),_:1})]),_:1}),a(e($),{class:"space-y-3 text-sm text-muted-foreground"},{default:t(()=>[s("div",z,r(x(l.payment.plan.price_kobo)),1),s("div",null,r(l.payment.plan.speed_mbps)+" Mbps speed",1),s("div",null,r(l.payment.plan.duration_minutes)+" minutes",1)]),_:1})]),_:1}),s("div",V,[a(e(y),{disabled:i.value,onClick:h},{default:t(()=>[i.value?(c(),p(e(P),{key:0})):_("",!0),n[0]||(n[0]=m(" Pay now ",-1))]),_:1},8,["disabled"]),a(e(y),{variant:"ghost","as-child":""},{default:t(()=>[a(e(b),{href:"/plans"},{default:t(()=>[...n[1]||(n[1]=[m("Back to plans",-1)])]),_:1})]),_:1})]),o.value?(c(),k("p",D,r(o.value),1)):_("",!0)])]),_:1}))}});export{q as default};
