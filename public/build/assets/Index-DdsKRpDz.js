import{d as b,g as f,w as a,e as o,b as t,u as s,h as g,j as _,l as u,i as d,o as l,a as c,F as v,r as k,t as i,p as w}from"./app-Bbpl4-Pg.js";import{_ as N}from"./InputError.vue_vue_type_script_setup_true_lang-CJkTgDcg.js";import{_ as C}from"./index-bIEIvmix.js";import{_ as p}from"./index-Dv5PaFr3.js";import{_ as D}from"./AppLayout.vue_vue_type_script_setup_true_lang-BGtUgSLZ.js";import{i as P,c as V,a as $,e as B,d as F}from"./index-B_zycXbU.js";import"./index-BcwGYDmr.js";import"./AppShell.vue_vue_type_script_setup_true_lang-DmzT6-Oi.js";import"./useForwardExpose-Bge-8bB2.js";import"./useForwardPropsEmits-ngj2cdvz.js";import"./x-CokJGW2T.js";import"./createLucideIcon-l49pqt4w.js";import"./index-BDqSilVs.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CegJZHlw.js";const j={class:"flex flex-col gap-6"},z={class:"flex flex-wrap items-center justify-between gap-4"},A={class:"overflow-hidden rounded-lg border border-border"},S={class:"w-full text-left text-sm"},E={class:"px-4 py-3 font-medium"},G={class:"px-4 py-3"},I={class:"px-4 py-3"},T={class:"px-4 py-3"},L={class:"px-4 py-3"},M={class:"px-4 py-3"},q={class:"px-4 py-3 text-right"},H={class:"flex justify-end gap-2"},J={key:0},it=b({__name:"Index",props:{plans:{},errors:{}},setup(n){const x=[{title:"Admin dashboard",href:"/admin"},{title:"Plans",href:P().url}],h=m=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0}).format(m/100),y=m=>{confirm("Delete this plan? This cannot be undone.")&&w.delete(F.url(m))};return(m,e)=>(l(),f(D,{breadcrumbs:x},{default:a(()=>[o(s(g),{title:"Plans"}),t("div",j,[t("div",z,[e[1]||(e[1]=t("div",null,[t("h1",{class:"text-2xl font-semibold text-foreground"}," Plans "),t("p",{class:"text-sm text-muted-foreground"}," Create, edit, and disable hotspot subscription plans. ")],-1)),o(s(p),{"as-child":""},{default:a(()=>[o(s(u),{href:s(V)().url},{default:a(()=>[...e[0]||(e[0]=[d("New plan",-1)])]),_:1},8,["href"])]),_:1})]),n.errors?.general?(l(),f(N,{key:0,message:n.errors.general},null,8,["message"])):_("",!0),t("div",A,[t("table",S,[e[6]||(e[6]=t("thead",{class:"bg-muted/50 text-xs uppercase text-muted-foreground"},[t("tr",null,[t("th",{class:"px-4 py-3"},"Plan"),t("th",{class:"px-4 py-3"},"Price"),t("th",{class:"px-4 py-3"},"Speed"),t("th",{class:"px-4 py-3"},"Duration"),t("th",{class:"px-4 py-3"},"Profile"),t("th",{class:"px-4 py-3"},"Status"),t("th",{class:"px-4 py-3 text-right"},"Actions")])],-1)),t("tbody",null,[(l(!0),c(v,null,k(n.plans.data,r=>(l(),c("tr",{key:r.id,class:"border-t border-border"},[t("td",E,i(r.name),1),t("td",G,i(h(r.price_kobo)),1),t("td",I,i(r.speed_mbps)+" Mbps ",1),t("td",T,i(r.duration_minutes)+" mins ",1),t("td",L,i(r.mikrotik_profile),1),t("td",M,[o(s(C),{variant:r.is_active?"default":"secondary"},{default:a(()=>[d(i(r.is_active?"Active":"Disabled"),1)]),_:2},1032,["variant"])]),t("td",q,[t("div",H,[o(s(p),{variant:"ghost",size:"sm","as-child":""},{default:a(()=>[o(s(u),{href:s($)(r.id).url},{default:a(()=>[...e[2]||(e[2]=[d(" View ",-1)])]),_:1},8,["href"])]),_:2},1024),o(s(p),{variant:"ghost",size:"sm","as-child":""},{default:a(()=>[o(s(u),{href:s(B)(r.id).url},{default:a(()=>[...e[3]||(e[3]=[d(" Edit ",-1)])]),_:1},8,["href"])]),_:2},1024),o(s(p),{variant:"ghost",size:"sm",onClick:K=>y(r.id)},{default:a(()=>[...e[4]||(e[4]=[d(" Delete ",-1)])]),_:1},8,["onClick"])])])]))),128)),n.plans.data.length===0?(l(),c("tr",J,[...e[5]||(e[5]=[t("td",{colspan:"7",class:"px-4 py-10 text-center text-muted-foreground"}," No plans yet. Create your first plan. ",-1)])])):_("",!0)])])])])]),_:1}))}});export{it as default};
