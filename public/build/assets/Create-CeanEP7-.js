import{d as S,k as w,g as V,w as l,e as i,b as r,u as s,h as C,m as F,n as c,i as o,a as d,o as n,F as u,r as _,j as M,t as m,v as b,l as B}from"./app-Bbpl4-Pg.js";import{_ as g}from"./InputError.vue_vue_type_script_setup_true_lang-CJkTgDcg.js";import{_ as v}from"./index-Dv5PaFr3.js";import{_ as x}from"./Label.vue_vue_type_script_setup_true_lang-DGQuHlNa.js";import{_ as $}from"./AppLayout.vue_vue_type_script_setup_true_lang-BGtUgSLZ.js";import{i as k,c as A,s as D}from"./index-8ZGISVJv.js";import"./useForwardExpose-Bge-8bB2.js";import"./index-BcwGYDmr.js";import"./AppShell.vue_vue_type_script_setup_true_lang-DmzT6-Oi.js";import"./useForwardPropsEmits-ngj2cdvz.js";import"./x-CokJGW2T.js";import"./createLucideIcon-l49pqt4w.js";import"./index-BDqSilVs.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CegJZHlw.js";const U={class:"flex flex-col gap-6"},G={class:"grid gap-2"},P=["value"],j={class:"grid gap-2"},E=["value"],I={class:"flex flex-wrap gap-3"},ee=S({__name:"Create",props:{users:{},plans:{}},setup(p){const y=[{title:"Admin dashboard",href:"/admin"},{title:"Subscriptions",href:k().url},{title:"Manual subscribe",href:A().url}],a=w({user_id:"",plan_id:""}),N=f=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0}).format(f/100),h=()=>{a.submit(D())};return(f,e)=>(n(),V($,{breadcrumbs:y},{default:l(()=>[i(s(C),{title:"Manual Subscription"}),r("div",U,[e[8]||(e[8]=r("div",null,[r("h1",{class:"text-2xl font-semibold text-foreground"}," Manual subscription "),r("p",{class:"text-sm text-muted-foreground"}," Assign a plan to a user and activate access immediately. ")],-1)),r("form",{class:"grid gap-6",onSubmit:F(h,["prevent"])},[r("div",G,[i(s(x),{for:"user_id"},{default:l(()=>[...e[2]||(e[2]=[o("User",-1)])]),_:1}),c(r("select",{id:"user_id","onUpdate:modelValue":e[0]||(e[0]=t=>s(a).user_id=t),class:"h-9 rounded-md border border-input bg-transparent px-3 text-sm"},[e[3]||(e[3]=r("option",{value:""},"Select a user",-1)),(n(!0),d(u,null,_(p.users,t=>(n(),d("option",{key:t.id,value:t.id},[o(m(t.name)+" ",1),t.email?(n(),d(u,{key:0},[o(" ("+m(t.email)+") ",1)],64)):t.phone?(n(),d(u,{key:1},[o(" ("+m(t.phone)+") ",1)],64)):M("",!0)],8,P))),128))],512),[[b,s(a).user_id]]),i(g,{message:s(a).errors.user_id},null,8,["message"])]),r("div",j,[i(s(x),{for:"plan_id"},{default:l(()=>[...e[4]||(e[4]=[o("Plan",-1)])]),_:1}),c(r("select",{id:"plan_id","onUpdate:modelValue":e[1]||(e[1]=t=>s(a).plan_id=t),class:"h-9 rounded-md border border-input bg-transparent px-3 text-sm"},[e[5]||(e[5]=r("option",{value:""},"Select a plan",-1)),(n(!0),d(u,null,_(p.plans,t=>(n(),d("option",{key:t.id,value:t.id},m(t.name)+" - "+m(N(t.price_kobo)),9,E))),128))],512),[[b,s(a).plan_id]]),i(g,{message:s(a).errors.plan_id},null,8,["message"])]),r("div",I,[i(s(v),{type:"submit",disabled:s(a).processing},{default:l(()=>[...e[6]||(e[6]=[o(" Activate access ",-1)])]),_:1},8,["disabled"]),i(s(v),{variant:"ghost","as-child":""},{default:l(()=>[i(s(B),{href:s(k)().url},{default:l(()=>[...e[7]||(e[7]=[o("Cancel",-1)])]),_:1},8,["href"])]),_:1})])],32)])]),_:1}))}});export{ee as default};
